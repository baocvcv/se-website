from rest_framework import status
from rest_framework.views import APIView
from rest_framework.response import Response

from backend.models.file_upload import ImageModel


class FileUploadView(APIView):
    def upload_image(self, request):
        if 'docfile' in request.FILES:
            image = request.FILES["docfile"]

            image.name = str(request.user) + str(time) + '.jpg'
            s = photo(owner=request.user, image=image)
            s.save()
            return Response('Successful')
        else:
            return Response('Error')
